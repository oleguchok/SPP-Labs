<Window x:Class="RssNewsReader.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding Path=Title.Text}" Height="350" Width="525">
    
    <Window.Resources>
        <Storyboard x:Key="sbShowTopMenu">
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,-200,0,0" To="0,0,0,0" DecelerationRatio=".9" Duration="0:0:1" />
        </Storyboard>
        <Storyboard x:Key="sbHideTopMenu">
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,0,0,0" To="0,-200,0,0" AccelerationRatio=".9" Duration="0:0:1" />
        </Storyboard>
    </Window.Resources>
    
    <DockPanel x:Name="feedContent">
        <Grid  DockPanel.Dock="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="120" />
                <ColumnDefinition Width="70" />
            </Grid.ColumnDefinitions>
            <Label Grid.Column="0" Margin="5">URL:</Label>
            <TextBox Grid.Column="1" x:Name="textUrl" MinWidth="150" Margin="5"/>
            <Button Grid.Column="2" Margin="5" MinWidth="80" Click="OnGetFeed">Получить канал</Button>
            <Button Grid.Column="3" Margin="5" Click="btnTopMenuShow_Click">Settings</Button>
        </Grid>
        <StackPanel DockPanel.Dock="Top" Panel.ZIndex="2" Name="pnlTopMenu" Orientation="Vertical"
                     HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="0,-200,0,0">
            <Border BorderBrush="#AF1719" BorderThickness="2" Height="150" Background="#4C808080" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300" />
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <ScrollViewer Grid.Column="0">
                        <StackPanel>
                            <Label>RSS Feed:</Label>
                            <ListBox MaxWidth="300" x:Name="RssFeedsList" ItemsSource="{Binding}"
                                     HorizontalContentAlignment="Stretch" Background="#4C808080"
                                     Margin="5">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border>
                                            <Label Content="{Binding }"  />
                                        </Border>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                            <TabPanel Margin="5">
                                <Label>New feed:</Label>
                                <TextBox Name="NewRssFeedTextBox" MinWidth="150"></TextBox>
                                <Button Name="AddNewRssFeedButton" MinWidth="50" Click="AddNewRssFeedButton_OnClick">_Add</Button>
                            </TabPanel>
                            <Button Name="DeleteRssFeedButton"  HorizontalAlignment="Stretch"
                                    Background="Crimson" Click="DeleteRssFeedButton_OnClick">_Delete</Button>
                        </StackPanel>
                    </ScrollViewer>
                    <ScrollViewer Grid.Column="1">
                        <StackPanel>
                            <Label>Email recipients:</Label>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Border>
        </StackPanel>
        <StackPanel Orientation="Vertical" DockPanel.Dock="Top" Background="BlueViolet" x:Name="heading">
            <Label Content="{Binding Path=Title.Text}" FontSize="16" />
            <Label Content="{Binding Path=Description.Text}" />
        </StackPanel>
        <ListBox MinWidth="200" MaxWidth="300"  DockPanel.Dock="Left" ItemsSource="{Binding}"
                 IsSynchronizedWithCurrentItem="True" HorizontalContentAlignment="Stretch">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Background="#555">
                        <Label Content="{Binding Title.Text}" Foreground="#DDD" />
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <DockPanel x:Name="content">
            <Label DockPanel.Dock="Top" Content="{Binding Description.Text}" />
            <Frame Source="{Binding Path=Links[0].Uri}" />
        </DockPanel>
        
    </DockPanel>
</Window>
